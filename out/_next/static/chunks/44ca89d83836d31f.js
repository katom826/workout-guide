(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,19995,e=>{"use strict";e.s(["default",()=>r]);var t=e.i(43476);function r(e){let{onClick:r,children:l,optionalClass:n=""}=e;return(0,t.jsx)("button",{className:"p-5 cursor-pointer ".concat(n),onClick:r,children:l})}},18566,(e,t,r)=>{t.exports=e.r(76562)},2425,e=>{"use strict";e.s(["default",()=>a],2425);var t=e.i(43476),r=e.i(71645),l=e.i(19995);function n(e){let{onClick:r,children:l}=e;return(0,t.jsx)("button",{className:"p-5 cursor-pointer mt-10 text-6xl",onClick:r,children:(0,t.jsx)("svg",{className:"h-20 w-20",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 -960 960 960",fill:"#e3e3e3",children:l})})}var s=e.i(18566);function a(){let[e,a]=(0,r.useState)([]),[i,c]=(0,r.useState)(0),[o,u]=(0,r.useState)(0),[d,p]=(0,r.useState)(0),[x,h]=(0,r.useState)(!1),[f,m]=(0,r.useState)(!1),g=(0,r.useRef)(null),b=(0,s.useRouter)(),[v,j]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let e=localStorage.getItem("exercises");if(e){let t=JSON.parse(e);a(t),u(t[0].duration),p(t[0].reps),j(!0)}else alert("エラー")},[]),(0,r.useEffect)(()=>{if(!x||!v)return;let e=setInterval(()=>{u(e=>Math.max(e-1,0))},1e3);return()=>clearInterval(e)},[x]),(0,r.useEffect)(()=>{if(g.current&&v)if(o>0)w(),g.current.play().catch(()=>{});else{let e=new Audio("/audio/rep_change.mp3");w(),e.play()}},[o]),(0,r.useEffect)(()=>{!(o>0)&&v&&(u(e[i].duration),p(e=>e-1))},[o]),(0,r.useEffect)(()=>{if(d>0||!v)return;let t=i+1;if(t<e.length)c(t),p(e[t].reps),u(e[t].duration);else{m(!0),h(!1);let e=new Audio("/audio/clear.mp3");w(),e.play()}},[d]);let w=()=>{g.current&&(g.current.pause(),g.current.currentTime=0)},N=()=>{b.push("/index")};return(0,t.jsx)("div",{className:"h-screen flex items-center justify-center flex-col gap-5",children:v?f?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h1",{className:"text-6xl font-bold bg-linear-to-r from-pink-500 via-purple-500 to-blue-500 bg-clip-text text-transparent",children:"お疲れさまでした！"}),(0,t.jsx)(l.default,{onClick:N,optionalClass:"mt-10 p-10 text-3xl",children:"ホームに戻る"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l.default,{onClick:N,optionalClass:"mt-10 p-10 text-3xl",children:"ホームに戻る"}),(0,t.jsx)("h1",{className:"text-7xl font-bold bg-linear-to-r from-pink-500 via-purple-500 to-blue-500 bg-clip-text text-transparent",children:e[i].name}),(0,t.jsxs)("p",{className:"text-6xl font-bold bg-linear-to-r from-pink-500 via-purple-500 to-blue-500 bg-clip-text text-transparent",children:[d," / ",e[i].reps," 回"]}),(0,t.jsx)("div",{className:"w-64 h-4 bg-gray-300 rounded overflow-hidden",children:(0,t.jsx)("div",{className:"h-full bg-green-500 transition-all duration-500",style:{width:"".concat(d/e[i].reps*100,"%")}})}),(0,t.jsxs)("p",{className:"text-6xl font-bold bg-linear-to-r from-pink-500 via-purple-500 to-blue-500 bg-clip-text text-transparent",children:[o," / ",e[i].duration," 秒"]}),(0,t.jsx)("div",{className:"w-64 h-4 bg-gray-300 rounded overflow-hidden",children:(0,t.jsx)("div",{className:"h-full bg-green-500 transition-all duration-500",style:{width:"".concat(o/e[i].duration*100,"%")}})}),(0,t.jsx)(n,{onClick:x?()=>{h(!1)}:()=>{h(!0),g.current||(g.current=new Audio("/audio/tick.mp3"),g.current.play().catch(()=>{}),w())},children:x?(0,t.jsx)(()=>(0,t.jsx)("path",{d:"M560-200v-560h160v560H560Zm-320 0v-560h160v560H240Z"}),{}):(0,t.jsx)(()=>(0,t.jsx)("path",{d:"M320-200v-560l440 280-440 280Z"}),{})})]}):(0,t.jsx)("p",{children:"読み込み中..."})})}}]);